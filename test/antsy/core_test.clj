(ns antsy.core-test
  (:require
    [clojure.test :refer :all]

    [antsy.core :as antsy]))

(deftest escape-sequences
  (is (= "\u001B[0m" antsy/reset-escape-sequence))
  (is (= "\u001B[1m" antsy/bold-escape-sequence))
  (is (= "\u001B[2m" antsy/faint-escape-sequence))
  (is (= "\u001B[22m" antsy/normal-escape-sequence))
  (is (= "\u001B[3m" antsy/italicised-escape-sequence))
  (is (= "\u001B[23m" antsy/not-italicised-escape-sequence))
  (is (= "\u001B[4m" antsy/underlined-escape-sequence))
  (is (= "\u001B[21m" antsy/doubly-underlined-escape-sequence))
  (is (= "\u001B[24m" antsy/not-underlined-escape-sequence))
  (is (= "\u001B[5m" antsy/slowly-blinking-escape-sequence))
  (is (= "\u001B[6m" antsy/rapidly-blinking-escape-sequence))
  (is (= "\u001B[25m" antsy/steady-escape-sequence))
  (is (= "\u001B[7m" antsy/negative-escape-sequence))
  (is (= "\u001B[27m" antsy/positive-escape-sequence))
  (is (= "\u001B[8m" antsy/concealed-escape-sequence))
  (is (= "\u001B[28m" antsy/revealed-escape-sequence))
  (is (= "\u001B[9m" antsy/crossed-out-escape-sequence))
  (is (= "\u001B[29m" antsy/not-crossed-out-escape-sequence))
  (is (= "\u001B[39m" antsy/default-fg-escape-sequence))
  (is (= "\u001B[30m" antsy/black-fg-escape-sequence))
  (is (= "\u001B[31m" antsy/red-fg-escape-sequence))
  (is (= "\u001B[32m" antsy/green-fg-escape-sequence))
  (is (= "\u001B[33m" antsy/yellow-fg-escape-sequence))
  (is (= "\u001B[34m" antsy/blue-fg-escape-sequence))
  (is (= "\u001B[35m" antsy/magenta-fg-escape-sequence))
  (is (= "\u001B[36m" antsy/cyan-fg-escape-sequence))
  (is (= "\u001B[37m" antsy/white-fg-escape-sequence))
  (is (= "\u001B[49m" antsy/default-bg-escape-sequence))
  (is (= "\u001B[40m" antsy/black-bg-escape-sequence))
  (is (= "\u001B[41m" antsy/red-bg-escape-sequence))
  (is (= "\u001B[42m" antsy/green-bg-escape-sequence))
  (is (= "\u001B[43m" antsy/yellow-bg-escape-sequence))
  (is (= "\u001B[44m" antsy/blue-bg-escape-sequence))
  (is (= "\u001B[45m" antsy/magenta-bg-escape-sequence))
  (is (= "\u001B[46m" antsy/cyan-bg-escape-sequence))
  (is (= "\u001B[47m" antsy/white-bg-escape-sequence)))

(deftest functions
  (is (= "\u001B[1mText\u001B[0m" (antsy/bold "Text")))
  (is (= "\u001B[2mText\u001B[0m" (antsy/faint "Text")))
  (is (= "\u001B[22mText\u001B[0m" (antsy/normal "Text")))
  (is (= "\u001B[3mText\u001B[0m" (antsy/italicised "Text")))
  (is (= "\u001B[23mText\u001B[0m" (antsy/not-italicised "Text")))
  (is (= "\u001B[4mText\u001B[0m" (antsy/underlined "Text")))
  (is (= "\u001B[21mText\u001B[0m" (antsy/doubly-underlined "Text")))
  (is (= "\u001B[24mText\u001B[0m" (antsy/not-underlined "Text")))
  (is (= "\u001B[5mText\u001B[0m" (antsy/slowly-blinking "Text")))
  (is (= "\u001B[6mText\u001B[0m" (antsy/rapidly-blinking "Text")))
  (is (= "\u001B[25mText\u001B[0m" (antsy/steady "Text")))
  (is (= "\u001B[7mText\u001B[0m" (antsy/negative "Text")))
  (is (= "\u001B[27mText\u001B[0m" (antsy/positive "Text")))
  (is (= "\u001B[8mText\u001B[0m" (antsy/concealed "Text")))
  (is (= "\u001B[28mText\u001B[0m" (antsy/revealed "Text")))
  (is (= "\u001B[9mText\u001B[0m" (antsy/crossed-out "Text")))
  (is (= "\u001B[29mText\u001B[0m" (antsy/not-crossed-out "Text")))
  (is (= "\u001B[39mText\u001B[0m" (antsy/default-fg "Text")))
  (is (= "\u001B[30mText\u001B[0m" (antsy/black-fg "Text")))
  (is (= "\u001B[31mText\u001B[0m" (antsy/red-fg "Text")))
  (is (= "\u001B[32mText\u001B[0m" (antsy/green-fg "Text")))
  (is (= "\u001B[33mText\u001B[0m" (antsy/yellow-fg "Text")))
  (is (= "\u001B[34mText\u001B[0m" (antsy/blue-fg "Text")))
  (is (= "\u001B[35mText\u001B[0m" (antsy/magenta-fg "Text")))
  (is (= "\u001B[36mText\u001B[0m" (antsy/cyan-fg "Text")))
  (is (= "\u001B[37mText\u001B[0m" (antsy/white-fg "Text")))
  (is (= "\u001B[49mText\u001B[0m" (antsy/default-bg "Text")))
  (is (= "\u001B[40mText\u001B[0m" (antsy/black-bg "Text")))
  (is (= "\u001B[41mText\u001B[0m" (antsy/red-bg "Text")))
  (is (= "\u001B[42mText\u001B[0m" (antsy/green-bg "Text")))
  (is (= "\u001B[43mText\u001B[0m" (antsy/yellow-bg "Text")))
  (is (= "\u001B[44mText\u001B[0m" (antsy/blue-bg "Text")))
  (is (= "\u001B[45mText\u001B[0m" (antsy/magenta-bg "Text")))
  (is (= "\u001B[46mText\u001B[0m" (antsy/cyan-bg "Text")))
  (is (= "\u001B[47mText\u001B[0m" (antsy/white-bg "Text"))))

(deftest render
  (is (= "\u001B[1m\u001B[31m\u001B[43mText\u001B[0m"
        (antsy/render "Text" :bold :red-fg :yellow-bg)))
  (is (= "\u001B[1m\u001B[31m\u001B[43mText\u001B[0m"
        (antsy/-> "Text" :bold :red-fg :yellow-bg))))
